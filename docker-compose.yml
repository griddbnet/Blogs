version: '3'

services: 

  griddb-server: 
    image: griddbnet/griddb:5.0
    
    expose: 
      - "10001" 
      - "10010" 
      - "10020"
      - "10040"
      - "20001" 

    healthcheck:
        test: ["CMD", "tail", "-f", "tail -f /var/lib/gridstore/log/gridstore*.log"]
        interval: 30s
        timeout: 10s
        retries: 5


  frontend:
    image: griddbnet/griddb-react-crud
    command: bash -c "sleep 30"
    ports:
      - "2828:2828"

    restart: unless-stopped
    depends_on: 
      - griddb-server
    links: 
      - griddb-server
